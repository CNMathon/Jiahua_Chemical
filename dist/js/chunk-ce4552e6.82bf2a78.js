(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce4552e6"],{"000b":function(e,t,n){"use strict";var a=n("423c"),i=n.n(a);i.a},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"2b19":function(e,t,n){var a=n("23e7"),i=n("129f");a({target:"Object",stat:!0},{is:i})},"35ee":function(e,t,n){"use strict";var a=n("45a8"),i=n.n(a);i.a},"423c":function(e,t,n){},"45a8":function(e,t,n){},"69a0":function(e,t,n){(function(t){e.exports=t()})((function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],a=e[1],i=e[2],r=e[3];n+=(a&i|~a&r)+t[0]-680876936|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&i)+t[1]-389564586|0,r=(r<<12|r>>>20)+n|0,i+=(r&n|~r&a)+t[2]+606105819|0,i=(i<<17|i>>>15)+r|0,a+=(i&r|~i&n)+t[3]-1044525330|0,a=(a<<22|a>>>10)+i|0,n+=(a&i|~a&r)+t[4]-176418897|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&i)+t[5]+1200080426|0,r=(r<<12|r>>>20)+n|0,i+=(r&n|~r&a)+t[6]-1473231341|0,i=(i<<17|i>>>15)+r|0,a+=(i&r|~i&n)+t[7]-45705983|0,a=(a<<22|a>>>10)+i|0,n+=(a&i|~a&r)+t[8]+1770035416|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&i)+t[9]-1958414417|0,r=(r<<12|r>>>20)+n|0,i+=(r&n|~r&a)+t[10]-42063|0,i=(i<<17|i>>>15)+r|0,a+=(i&r|~i&n)+t[11]-1990404162|0,a=(a<<22|a>>>10)+i|0,n+=(a&i|~a&r)+t[12]+1804603682|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&i)+t[13]-40341101|0,r=(r<<12|r>>>20)+n|0,i+=(r&n|~r&a)+t[14]-1502002290|0,i=(i<<17|i>>>15)+r|0,a+=(i&r|~i&n)+t[15]+1236535329|0,a=(a<<22|a>>>10)+i|0,n+=(a&r|i&~r)+t[1]-165796510|0,n=(n<<5|n>>>27)+a|0,r+=(n&i|a&~i)+t[6]-1069501632|0,r=(r<<9|r>>>23)+n|0,i+=(r&a|n&~a)+t[11]+643717713|0,i=(i<<14|i>>>18)+r|0,a+=(i&n|r&~n)+t[0]-373897302|0,a=(a<<20|a>>>12)+i|0,n+=(a&r|i&~r)+t[5]-701558691|0,n=(n<<5|n>>>27)+a|0,r+=(n&i|a&~i)+t[10]+38016083|0,r=(r<<9|r>>>23)+n|0,i+=(r&a|n&~a)+t[15]-660478335|0,i=(i<<14|i>>>18)+r|0,a+=(i&n|r&~n)+t[4]-405537848|0,a=(a<<20|a>>>12)+i|0,n+=(a&r|i&~r)+t[9]+568446438|0,n=(n<<5|n>>>27)+a|0,r+=(n&i|a&~i)+t[14]-1019803690|0,r=(r<<9|r>>>23)+n|0,i+=(r&a|n&~a)+t[3]-187363961|0,i=(i<<14|i>>>18)+r|0,a+=(i&n|r&~n)+t[8]+1163531501|0,a=(a<<20|a>>>12)+i|0,n+=(a&r|i&~r)+t[13]-1444681467|0,n=(n<<5|n>>>27)+a|0,r+=(n&i|a&~i)+t[2]-51403784|0,r=(r<<9|r>>>23)+n|0,i+=(r&a|n&~a)+t[7]+1735328473|0,i=(i<<14|i>>>18)+r|0,a+=(i&n|r&~n)+t[12]-1926607734|0,a=(a<<20|a>>>12)+i|0,n+=(a^i^r)+t[5]-378558|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^i)+t[8]-2022574463|0,r=(r<<11|r>>>21)+n|0,i+=(r^n^a)+t[11]+1839030562|0,i=(i<<16|i>>>16)+r|0,a+=(i^r^n)+t[14]-35309556|0,a=(a<<23|a>>>9)+i|0,n+=(a^i^r)+t[1]-1530992060|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^i)+t[4]+1272893353|0,r=(r<<11|r>>>21)+n|0,i+=(r^n^a)+t[7]-155497632|0,i=(i<<16|i>>>16)+r|0,a+=(i^r^n)+t[10]-1094730640|0,a=(a<<23|a>>>9)+i|0,n+=(a^i^r)+t[13]+681279174|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^i)+t[0]-358537222|0,r=(r<<11|r>>>21)+n|0,i+=(r^n^a)+t[3]-722521979|0,i=(i<<16|i>>>16)+r|0,a+=(i^r^n)+t[6]+76029189|0,a=(a<<23|a>>>9)+i|0,n+=(a^i^r)+t[9]-640364487|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^i)+t[12]-421815835|0,r=(r<<11|r>>>21)+n|0,i+=(r^n^a)+t[15]+530742520|0,i=(i<<16|i>>>16)+r|0,a+=(i^r^n)+t[2]-995338651|0,a=(a<<23|a>>>9)+i|0,n+=(i^(a|~r))+t[0]-198630844|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~i))+t[7]+1126891415|0,r=(r<<10|r>>>22)+n|0,i+=(n^(r|~a))+t[14]-1416354905|0,i=(i<<15|i>>>17)+r|0,a+=(r^(i|~n))+t[5]-57434055|0,a=(a<<21|a>>>11)+i|0,n+=(i^(a|~r))+t[12]+1700485571|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~i))+t[3]-1894986606|0,r=(r<<10|r>>>22)+n|0,i+=(n^(r|~a))+t[10]-1051523|0,i=(i<<15|i>>>17)+r|0,a+=(r^(i|~n))+t[1]-2054922799|0,a=(a<<21|a>>>11)+i|0,n+=(i^(a|~r))+t[8]+1873313359|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~i))+t[15]-30611744|0,r=(r<<10|r>>>22)+n|0,i+=(n^(r|~a))+t[6]-1560198380|0,i=(i<<15|i>>>17)+r|0,a+=(r^(i|~n))+t[13]+1309151649|0,a=(a<<21|a>>>11)+i|0,n+=(i^(a|~r))+t[4]-145523070|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~i))+t[11]-1120210379|0,r=(r<<10|r>>>22)+n|0,i+=(n^(r|~a))+t[2]+718787259|0,i=(i<<15|i>>>17)+r|0,a+=(r^(i|~n))+t[9]-343485551|0,a=(a<<21|a>>>11)+i|0,e[0]=n+e[0]|0,e[1]=a+e[1]|0,e[2]=i+e[2]|0,e[3]=r+e[3]|0}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function r(e){var t,i,r,s,o,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,a(e.substring(t-64,t)));for(e=e.substring(t-64),i=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(n(u,r),t=0;t<16;t+=1)r[t]=0;return s=8*l,s=s.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(s[2],16),c=parseInt(s[1],16)||0,r[14]=o,r[15]=c,n(u,r),u}function s(e){var t,a,r,s,o,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),a=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(n(u,r),t=0;t<16;t+=1)r[t]=0;return s=8*l,s=s.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(s[2],16),c=parseInt(s[1],16)||0,r[14]=o,r[15]=c,n(u,r),u}function o(e){var n,a="";for(n=0;n<4;n+=1)a+=t[e>>8*n+4&15]+t[e>>8*n&15];return a}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var n,a=e.length,i=new ArrayBuffer(a),r=new Uint8Array(i);for(n=0;n<a;n+=1)r[n]=e.charCodeAt(n);return t?r:i}function f(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function h(e,t,n){var a=new Uint8Array(e.byteLength+t.byteLength);return a.set(new Uint8Array(e)),a.set(new Uint8Array(t),e.byteLength),n?a:a.buffer}function d(e){var t,n=[],a=e.length;for(t=0;t<a-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==c(r("hello"))&&function(e,t){var n=(65535&e)+(65535&t),a=(e>>16)+(t>>16)+(n>>16);return a<<16|65535&n},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,a){var i,r,s,o,c=this.byteLength,l=t(n,c),u=c;return a!==e&&(u=t(a,c)),l>u?new ArrayBuffer(0):(i=u-l,r=new ArrayBuffer(i),s=new Uint8Array(r),o=new Uint8Array(this,l,i),s.set(o),r)}}(),p.prototype.append=function(e){return this.appendBinary(l(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,a(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},p.prototype.end=function(e){var t,n,a=this._buff,i=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=a.charCodeAt(t)<<(t%4<<3);return this._finish(r,i),n=c(this._hash),e&&(n=d(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,t){var a,i,r,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;a=8*this._length,a=a.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(a[2],16),r=parseInt(a[1],16)||0,e[14]=i,e[15]=r,n(this._hash,e)},p.hash=function(e,t){return p.hashBinary(l(e),t)},p.hashBinary=function(e,t){var n=r(e),a=c(n);return t?d(a):a},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var t,a=h(this._buff.buffer,e,!0),r=a.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)n(this._hash,i(a.subarray(t-64,t)));return this._buff=t-64<r?new Uint8Array(a.buffer.slice(t-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,a=this._buff,i=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=a[t]<<(t%4<<3);return this._finish(r,i),n=c(this._hash),e&&(n=d(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=f(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=s(new Uint8Array(e)),a=c(n);return t?d(a):a},p}))},d209:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mangban"},[n("van-nav-bar",{attrs:{title:"断路安全","left-text":"返回","right-text":"操作","left-arrow":""},on:{"click-left":e.pageBack,"click-right":e.openAction}}),n("div",{staticClass:"cell_group"},[n("cell-value",{attrs:{title:"申请部门",value:e.$userInfo.officeName,disable:""}}),n("cell-value",{attrs:{title:"申请人",value:e.$userInfo.userName,disable:""}}),n("cell-value",{attrs:{title:"作业票编号",value:"",disable:""}}),n("cell-value",{attrs:{title:"作业票状态",value:"编辑",disable:""}}),n("cell-select-tag",{attrs:{required:"",title:"断路原因",storeKey:"reason",tagList:e.reason,showList:e.list_1,storeModule:e.storeModule}}),n("cell-select-tag",{attrs:{required:"",title:"危害辨识",storeKey:"endangerSign",tagList:e.endangerSign,showList:e.list_2,storeModule:e.storeModule}}),n("cell-time",{attrs:{title:"断路开始时间",required:""},model:{value:e.sendData.offtimeStart,callback:function(t){e.$set(e.sendData,"offtimeStart",t)},expression:"sendData.offtimeStart"}}),n("cell-time",{attrs:{title:"断路结束时间",required:""},model:{value:e.sendData.powertimeEnd,callback:function(t){e.$set(e.sendData,"powertimeEnd",t)},expression:"sendData.powertimeEnd"}}),n("div",{staticClass:"cell"},[e._m(0),n("div",{staticClass:"cell_value"},[n("span",[e._v("部门名1、部门名2")]),n("span",{staticClass:"cell_value_arrow"},[n("van-icon",{attrs:{name:"search"}})],1)])]),n("cell-select-user",{attrs:{title:"作业部门负责人",required:"",storeModule:e.storeModule,storeKey:"workCharger"},model:{value:e.sendData.workCharger,callback:function(t){e.$set(e.sendData,"workCharger",t)},expression:"sendData.workCharger"}}),n("div",{staticClass:"cell"},[e._m(1),n("div",{staticClass:"cell_value"},[n("span",[e._v("人名1、人名2")]),n("span",{staticClass:"cell_value_arrow"},[n("van-icon",{attrs:{name:"search"}})],1)])]),n("cell-textarea",{attrs:{title:"断路地段示意图及相关说明",placeholder:"请输入工作内容"},model:{value:e.sendData.offExplain,callback:function(t){e.$set(e.sendData,"offExplain",t)},expression:"sendData.offExplain"}}),n("div",{staticClass:"cell border_none"},[n("div",{staticClass:"cell_other"},[n("div",{staticClass:"upload"},[n("div",{staticClass:"upload_icon"},[n("van-icon",{attrs:{name:"photo-o"}})],1),n("div",{staticClass:"upload_box"},[n("van-uploader",{attrs:{"before-read":e.beforeRead,"before-delete":e.beforeDelete,"preview-size":"5rem"},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})],1)])])])],1),n("div",{staticClass:"confirm"},[e._m(2),n("div",{staticClass:"confirm_list"},[n("Signature",{attrs:{checked:!!e.checked[0]&&e.checked[0].checked,img:e.checked[0]?e.checked[0].img:""},on:{checked:function(t){return e.showSignature(0)},cancel:function(t){return e.signatureCancel(0)}}},[n("div",{attrs:{slot:""},slot:"default"},[e._v("作业前,制定交通组织方案(附后),并已通知相关部门或单位")])]),n("Signature",{attrs:{checked:!!e.checked[1]&&e.checked[1].checked,img:e.checked[1]?e.checked[1].img:""},on:{checked:function(t){return e.showSignature(1)},cancel:function(t){return e.signatureCancel(1)}}},[n("div",{attrs:{slot:""},slot:"default"},[e._v("作业前,在断路的路口和相关道路上设置交通警示标志,在作业区附近设置路栏、道路作业警示灯、导向标等交通警示设施")])]),n("Signature",{attrs:{checked:!!e.checked[2]&&e.checked[2].checked,img:e.checked[2]?e.checked[2].img:""},on:{checked:function(t){return e.showSignature(2)},cancel:function(t){return e.signatureCancel(2)}}},[n("div",{attrs:{slot:""},slot:"default"},[e._v("夜间作业设置警示红灯，并设置固定的围栏")])])],1),n("cell-textarea",{attrs:{title:"其他安全措施",required:"",placeholder:"请输入其他安全措施"}}),n("cell-input",{attrs:{title:"签字",required:"",placeholder:"请签字"}})],1),n("van-popup",{staticClass:"popup",attrs:{"close-on-click-overlay":!1,position:"bottom"},model:{value:e.signatureShow,callback:function(t){e.signatureShow=t},expression:"signatureShow"}},[n("Canvas",{ref:"signature",on:{save:e.saveCanvas,cancel:e.cancelCanvas}})],1),n("van-popup",{staticClass:"action",attrs:{position:"bottom"},model:{value:e.isShowAction,callback:function(t){e.isShowAction=t},expression:"isShowAction"}},[n("button",{on:{click:e.postData}},[e._v("保存")]),n("button",[e._v("工作流提交")]),n("button",{on:{click:e.closeAction}},[e._v("取消")])])],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cell_title"},[n("span",[e._v("作业部门")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cell_title"},[n("span",[e._v("涉及部门")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"head"},[n("div",{staticClass:"head_1"},[e._v("安全措施")]),n("div",{staticClass:"head_2"},[e._v("确认")]),n("div",{staticClass:"head_3"},[e._v("确认人")])])}],r=(n("a15b"),n("d81d"),n("2f62")),s=n("e706"),o=n("e1f3"),c=n("9ce3"),l=n("f877"),u={name:"duanlu",mixins:[s["a"],o["a"]],components:{Signature:l["a"],Canvas:c["a"]},data:function(){return{storeModule:"duanlu",sendData:{reason:[],endangerSign:[],offtimeStart:"",powertimeEnd:"",workCharger:[],offExplain:""},fileList:[],list_1:["修理马路","开挖埋设水管","埋设电缆","开挖沟渠","吊装设备","管道"],list_2:["人员受伤","车辆伤害","人员跌落沟渠"],isShowAction:!1,signatureShow:!1,checked:[{checked:!1,image:""}]}},computed:Object(r["b"])({reason:function(e){return e.duanlu.reason},endangerSign:function(e){return e.duanlu.endangerSign},workCharger:function(e){return e.duanlu.workCharger}}),beforeDestroy:function(){this.$store.dispatch("duanlu/cleanState")},methods:{openAction:function(){this.isShowAction=!0},closeAction:function(){this.isShowAction=!1},postData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,a=this,i=JSON.parse(JSON.stringify(this.sendData)),r=this.fileList.map((function(e){return e.id}));i.reason=this.stringData("reason","list_1"),i.endangerSign=this.stringData("endangerSign","list_2"),i.applyDept=this.$userInfo.officeName,i.applyer=this.$userInfo.userName,i.offExplain=r.join(","),i.__sid=this.$userInfo.sessionId;var s=[{num:1,safetyCs:"作业前,制定交通组织方案(附后),并已通知相关部门或单位",affirmRen:this.checked[0]?this.checked[0].img:0,safetyStatus:this.checked[0]?1:0},{num:2,safetyCs:"作业前,在断路的路口和相关道路上设置交通警示标志,在作业区附近设置路栏、道路作业警示灯、导向标等交通警示设施",affirmRen:this.checked[1]?this.checked[1].img:0,safetyStatus:this.checked[1]?1:0},{num:3,safetyCs:"夜间作业设置警示红灯，并设置固定的围栏",affirmRen:this.checked[2]?this.checked[2].img:0,safetyStatus:this.checked[2]?1:0}];t&&(s.map((function(e){e.zypId=n})),i.htHseDlzypSaftyList=s),console.log("sendData: ",i),this.$api.page_3.htHseDlzypSave(i).then((function(n){console.log("res: ",n),t?e.$Toast.success({message:"提交成功",onClose:function(){a.pageBack()}}):e.postData(!0,n.message)})).catch((function(){}))},showSignature:function(e){console.log("index: ",e),console.log("显示签名"),this.selectSignatureShow=e,this.signatureShow=!0},signatureCancel:function(e){console.log("index: ",e),console.log("取消"),this.checked[e].checked=!1,this.checked[e].img=""},saveCanvas:function(e){this.signatureShow=!1,this.checked[this.selectSignatureShow]={checked:!1,img:""},this.checked[this.selectSignatureShow].img=e,console.log("signatureShow: ")},cancelCanvas:function(){this.checked[this.selectSignatureShow].checked=!1,this.checked[this.selectSignatureShow].img="",this.signatureShow=!1}},watch:{reason:function(e){this.sendData.reason=e},endangerSign:function(e){this.sendData.endangerSign=e},workCharger:function(e){this.sendData.workCharger=e}}},f=u,h=(n("000b"),n("2877")),d=Object(h["a"])(f,a,i,!1,null,"488727c5",null);t["default"]=d.exports},e1f3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("4de4"),n("fb6a"),n("b0c0"),n("2b19");var a=n("69a0"),i=n.n(a),r={data:function(){return{fileList:[]}},methods:{beforeRead:function(e){var t=/^image\/(jpeg|jpg|png)/;if(!t.test(e.type))return alert("图片类型必须是jpeg,jpg,png中的一种"),!1;var n=new FormData;n.append("uploadType","image"),this.uploadFile(n,e)},getFileMD5:function(e,t){var n=new FileReader,a=10485760,r=(Math.ceil(e.size/a),0),s=new i.a;function o(){var t=r*a,i=t+a>=e.size?e.size:t+a;n.readAsBinaryString(e.slice(t,i))}n.onload=function(e){s.appendBinary(e.target.result),r++,t(s.end())},o()},uploadFile:function(e,t){var n=this;e.append("file",t),e.append("fileName",t.name),e.append("__sid",this.$userInfo.sessionId),this.getFileMD5(t,(function(t){e.append("fileMd5",t),n.$api.common.uploadFile(e).then((function(e){"true"===e.result?(n.$Toast.success({message:"上传成功"}),n.uploadFileSuccess(e)):n.$Toast.fail({message:"上传失败"})})).catch((function(){n.$Toast.fail({message:"上传失败"})}))}))},uploadFileSuccess:function(e){var t=this.$imageUrl+e.fileUpload.fileUrl,n={index:this.fileList.length,id:e.fileUpload.id,url:t,fileUrl:e.fileUpload.fileUrl};this.fileList.push(n)},beforeDelete:function(e){var t=this.fileList.filter((function(t){return!Object.is(e,t)}));this.fileList=t}}}},f877:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"confirm_item BGblue"},[n("div",{staticClass:"confirm_item_content"},[e._t("default")],2),n("div",{staticClass:"confirm_item_check success"},[n("van-checkbox",{attrs:{"checked-color":"#07c160"},on:{click:function(t){return e.showSignature(0)}},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),e.img?n("div",{staticClass:"confirm_item_signature"},[n("van-image",{attrs:{width:"100%",height:"100%",fit:"scale-down",src:e.img}})],1):e._e()])},i=[],r={name:"signature",data:function(){return{checked:!1}},props:{img:{type:String,default:""},disable:{type:Boolean,default:!1}},watch:{checked:function(e){this.disable||(e?this.changeChecked(e):this.cancel())}},methods:{showSignature:function(){},changeChecked:function(){this.$emit("checked")},cancel:function(){this.$emit("cancel")}}},s=r,o=(n("35ee"),n("2877")),c=Object(o["a"])(s,a,i,!1,null,"78a3b504",null);t["a"]=c.exports},fb6a:function(e,t,n){"use strict";var a=n("23e7"),i=n("861d"),r=n("e8b5"),s=n("23cb"),o=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("1dde"),f=n("b622"),h=f("species"),d=[].slice,p=Math.max;a({target:"Array",proto:!0,forced:!u("slice")},{slice:function(e,t){var n,a,u,f=c(this),g=o(f.length),v=s(e,g),m=s(void 0===t?g:t,g);if(r(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return d.call(f,v,m);for(a=new(void 0===n?Array:n)(p(m-v,0)),u=0;v<m;v++,u++)v in f&&l(a,u,f[v]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-ce4552e6.82bf2a78.js.map