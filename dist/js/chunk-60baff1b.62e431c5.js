(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60baff1b","chunk-306a7dca"],{"155c":function(e,t,i){"use strict";i.r(t);var a,s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"donghuo"},[i("van-nav-bar",{attrs:{title:"动火安全","left-text":"返回","right-text":"操作","left-arrow":"",fixed:""},on:{"click-left":e.pageBack,"click-right":e.openAction}}),i("div",{staticClass:"cell_group fixed-first"},[i("cell-value",{attrs:{title:"申请部门",required:"",value:e.$userInfo.officeName,disable:""}}),i("cell-value",{attrs:{title:"申请人",required:"",value:e.$userInfo.userName,disable:""}}),i("cell-value",{attrs:{title:"作业票编号",value:e.$route.query.id,disable:""}}),i("cell-value",{attrs:{title:"作业票状态",value:"编辑",disable:""}}),e.initData.dhzypCode?i("cell-value",{staticClass:"readonly",attrs:{title:"作业票编号",required:"",value:e.$userInfo.dhzypCode}}):e._e(),e.initData.htStatus?i("cell-value",{staticClass:"readonly",attrs:{title:"作业票状态",required:"",value:e.$userInfo.userName}}):e._e(),i("cell-textarea",{attrs:{title:"动火地点及内容",required:"",placeholder:"请输入作业内容"},model:{value:e.sendData.siteContent,callback:function(t){e.$set(e.sendData,"siteContent",t)},expression:"sendData.siteContent"}}),i("cell-picker",{attrs:{title:"动火级别",required:"",columns:e.dhLevelColumns},model:{value:e.sendData.dhLevel,callback:function(t){e.$set(e.sendData,"dhLevel",t)},expression:"sendData.dhLevel"}}),i("cell-select-tag",{attrs:{required:"",title:"动火方式",storeKey:"dhWay",tagList:e.sendData.dhWay,showList:e.list_1,storeModule:e.storeModule}}),i("cell-select-tag",{attrs:{required:"",title:"涉及其他特殊作业",storeKey:"otherSpecial",tagList:e.sendData.otherSpecial,showList:e.list_2,storeModule:e.storeModule}}),i("cell-select-tag",{attrs:{required:"",title:"危害辨识",storeKey:"hazardSb",tagList:e.sendData.hazardSb,showList:e.list_3,storeModule:e.storeModule}}),i("cell-time",{attrs:{title:"动火开始时间",required:""},model:{value:e.sendData.dhStarttime,callback:function(t){e.$set(e.sendData,"dhStarttime",t)},expression:"sendData.dhStarttime"}}),i("cell-time",{attrs:{title:"动火结束时间",required:""},model:{value:e.sendData.dhEndtime,callback:function(t){e.$set(e.sendData,"dhEndtime",t)},expression:"sendData.dhEndtime"}}),i("cell-select-user",{attrs:{title:"动火作业负责人",required:"",storeModule:e.storeModule,storeKey:"dhzyPrincipal"},model:{value:e.sendData.dhzyPrincipal,callback:function(t){e.$set(e.sendData,"dhzyPrincipal",t)},expression:"sendData.dhzyPrincipal"}}),i("cell-select-user",{attrs:{title:"动火人",required:"",storeModule:e.storeModule,storeKey:"dhzyRen"},model:{value:e.sendData.dhzyRen,callback:function(t){e.$set(e.sendData,"dhzyRen",t)},expression:"sendData.dhzyRen"}}),i("div",{staticClass:"confirm"},[e._m(0),i("div",{staticClass:"confirm_list"},[i("Signature",{attrs:{checked:!!e.checked[0]&&e.checked[0].checked,img:e.checked[0]?e.checked[0].img:""},on:{checked:function(t){return e.showSignature(0)},cancel:function(t){return e.signatureCancel(0)}}},[i("span",{attrs:{slot:""},slot:"default"},[e._v("动火设备内部构件清理干净,蒸汽吹扫或水洗合格,达到用火条件。")])]),i("Signature",{attrs:{checked:!!e.checked[1]&&e.checked[1].checked,img:e.checked[1]?e.checked[1].img:""},on:{checked:function(t){return e.showSignature(1)},cancel:function(t){return e.signatureCancel(1)}}},[i("span",{attrs:{slot:""},slot:"default"},[e._v("断开与动火设备相连接的所有管线,加盲板")]),i("span",[i("van-stepper",{attrs:{min:0},model:{value:e.manbanNumber,callback:function(t){e.manbanNumber=t},expression:"manbanNumber"}})],1),i("span",{attrs:{slot:""},slot:"default"},[e._v("块")])]),i("Signature",{attrs:{checked:!!e.checked[2]&&e.checked[2].checked,img:e.checked[2]?e.checked[2].img:""},on:{checked:function(t){return e.showSignature(2)},cancel:function(t){return e.signatureCancel(2)}}},[i("div",{attrs:{slot:""},slot:"default"},[e._v("动火点周围的下水井、地漏、地沟、电缆沟等已清除易燃物,并已采取覆盖、铺沙、水封等手段进行隔离")])]),i("Signature",{attrs:{checked:!!e.checked[3]&&e.checked[3].checked,img:e.checked[3]?e.checked[3].img:""},on:{checked:function(t){return e.showSignature(3)},cancel:function(t){return e.signatureCancel(3)}}},[i("div",{attrs:{slot:""},slot:"default"},[e._v("罐区内动火点同一围堰内和防火间距内的油罐不同时进行脱水作业")])]),i("Signature",{attrs:{checked:!!e.checked[4]&&e.checked[4].checked,img:e.checked[4]?e.checked[4].img:""},on:{checked:function(t){return e.showSignature(4)},cancel:function(t){return e.signatureCancel(4)}}},[i("div",{attrs:{slot:""},slot:"default"},[e._v("高处作业已采取防火花飞溅措施")])]),i("Signature",{attrs:{checked:!!e.checked[5]&&e.checked[5].checked,img:e.checked[5]?e.checked[5].img:""},on:{checked:function(t){return e.showSignature(5)},cancel:function(t){return e.signatureCancel(5)}}},[i("div",{attrs:{slot:""},slot:"default"},[e._v("动火点周围易燃物已清除")])]),i("Signature",{attrs:{checked:!!e.checked[6]&&e.checked[6].checked,img:e.checked[6]?e.checked[6].img:""},on:{checked:function(t){return e.showSignature(6)},cancel:function(t){return e.signatureCancel(6)}}},[i("div",{attrs:{slot:""},slot:"default"},[e._v("电焊回路线已接在焊件上,把线未穿过下水井或与其他设备搭接")])]),i("Signature",{attrs:{checked:!!e.checked[7]&&e.checked[7].checked,img:e.checked[7]?e.checked[7].img:""},on:{checked:function(t){return e.showSignature(7)},cancel:function(t){return e.signatureCancel(7)}}},[i("div",{attrs:{slot:""},slot:"default"},[e._v("乙炔气瓶(直立放置)、氧气瓶间距大于5米，与火源间的距离大于10米")])]),i("Signature",{attrs:{checked:!!e.checked[8]&&e.checked[8].checked,img:e.checked[8]?e.checked[8].img:""},on:{checked:function(t){return e.showSignature(8)},cancel:function(t){return e.signatureCancel(8)}}},[i("div",{attrs:{slot:""},slot:"default"},[i("span",[e._v("现场配备消防水带")]),i("span",[i("van-stepper",{attrs:{min:0},model:{value:e.fangshuidaiNumber,callback:function(t){e.fangshuidaiNumber=t},expression:"fangshuidaiNumber"}})],1),i("span",[e._v("根，灭火器")]),i("span",[i("van-stepper",{attrs:{min:0},model:{value:e.miehuoqiNumber,callback:function(t){e.miehuoqiNumber=t},expression:"miehuoqiNumber"}})],1),i("span",[e._v("台，铁锹")]),i("span",[i("van-stepper",{attrs:{min:0},model:{value:e.tieqiuNumber,callback:function(t){e.tieqiuNumber=t},expression:"tieqiuNumber"}})],1),i("span",[e._v("把，灭火毯")]),i("span",[i("van-stepper",{attrs:{min:0},model:{value:e.miehuotanNumber,callback:function(t){e.miehuotanNumber=t},expression:"miehuotanNumber"}})],1),i("span",[e._v("块")])])])],1)]),i("van-popup",{staticClass:"popup",attrs:{"close-on-click-overlay":!1,position:"bottom"},model:{value:e.signatureShow,callback:function(t){e.signatureShow=t},expression:"signatureShow"}},[i("Canvas",{ref:"signature",on:{save:e.saveCanvas,cancel:e.cancelCanvas}})],1),i("van-popup",{staticClass:"action",attrs:{position:"bottom"},model:{value:e.isShowAction,callback:function(t){e.isShowAction=t},expression:"isShowAction"}},[i("button",{on:{click:e.postData}},[e._v("保存")]),i("button",[e._v("工作流提交")]),i("button",{on:{click:e.closeAction}},[e._v("取消")])])],1)],1)},c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"head"},[i("div",{staticClass:"head_1"},[e._v("安全措施")]),i("div",{staticClass:"head_2"},[e._v("确认")]),i("div",{staticClass:"head_3"},[e._v("确认人")])])}],n=(i("99af"),i("0d03"),i("a9e3"),i("2fa7")),o=i("2f62"),h=i("e706"),r=i("b029"),u=i("65dc"),d=i("9ce3"),l=i("f877"),m=(a={name:"donghuo",mixins:[h["a"]],data:function(){return{storeModule:"donghuo",sendData:{siteContent:"",dhLevel:null,dhStarttime:"",dhEndtime:"",dhWay:[],otherSpecial:[],hazardSb:[],dhzyPrincipal:[],dhzyRen:[]},value:5,materialShowShow:!1,material:{index:0,value:""},safeSendData:[{zypId:"",num:"",safetyCs:"",affirmRen:"",safetyStatus:Number}],materialColumns:["吊车","行车","把杆"],dhLevelColumns:["制定位置特殊动火作业","特殊","|类","||类"],list_1:["电焊","气（割）焊","塑焊","电钻","风镐","切割","磨削","喷灯"],list_2:["登高","受限空间","临时用电","盲板抽堵","吊装","动土","断路作业"],list_3:["火灾、爆炸","中度和窒息","化学灼伤","机械伤害","触电","高处坠落"],initData:[],manbanNumber:0,fangshuidaiNumber:0,miehuoqiNumber:0,tieqiuNumber:0,miehuotanNumber:0,signatureShow:!1,checked:[{checked:!1,image:""}],selectSignatureShow:Number,isShowAction:!1}},computed:Object(o["b"])({dhWay:function(e){return e.donghuo.dhWay},otherSpecial:function(e){return e.donghuo.otherSpecial},hazardSb:function(e){return e.donghuo.hazardSb},dhzyPrincipal:function(e){return e.donghuo.dhzyPrincipal},dhzyRen:function(e){return e.donghuo.dhzyRen}}),beforeDestroy:function(){this.$store.dispatch("donghuo/cleanState")},activated:function(){console.log(this.$route.query.id),this.$route.query.id&&this.queryId!==this.$route.query.id&&(this.queryId=this.$route.query.id,this.getPageData())}},Object(n["a"])(a,"beforeDestroy",(function(){this.queryId="",this.$store.dispatch("dongtu/cleanState")})),Object(n["a"])(a,"methods",{clearData:function(){this.sendData.siteContent="",this.sendData.dhLevel=null,this.sendData.dhStarttime="",this.sendData.dhEndtime="",this.sendData.dhWay=[],this.sendData.otherSpecial=[],this.sendData.hazardSb=[],this.sendData.dhzyPrincipal=[],this.sendData.dhzyRen=[]},openAction:function(){this.isShowAction=!0},closeAction:function(){this.isShowAction=!1},isDataEdit:function(){return 0==this.sendData.siteContent?(this.$notify("请输入动火地点和内容"),!1):null==this.sendData.dhLevel?(this.$notify("请选择动火级别"),!1):0==this.sendData.dhWay?(this.$notify("请选择动火方式"),!1):0==this.sendData.otherSpecial?(this.$notify("请选择涉及的其他特殊作业"),!1):0==this.sendData.hazardSb?(this.$notify("请选择危害辨识"),!1):0==this.sendData.dhStarttime?(this.$notify("请选择动火开始时间"),!1):0==this.sendData.dhEndtime?(this.$notify("请选择动火结束时间"),!1):0==this.sendData.dhzyPrincipal?(this.$notify("请选择动火作业负责人"),!1):0==this.sendData.hazardSb?(this.$notify("请选择危害辨识"),!1):0!=this.sendData.hazardSb||(this.$notify("请选择危害辨识"),!1)},postData:function(){var e,t=this,i=this,a=JSON.parse(JSON.stringify(this.sendData));a.dhWay=this.stringData("dhWay","list_1"),a.otherSpecial=this.stringData("otherSpecial","list_2"),a.hazardSb=this.stringData("hazardSb","list_3"),a.dhzyPrincipal=this.userString(a.dhzyPrincipal,"userName");var s=[{zypId:e,num:1,safetyCs:"动火设备内部构件清理干净,蒸汽吹扫或水洗合格,达到用火条件。",affirmRen:this.checked[0]?this.checked[0].img:0,safetyStatus:this.checked[0]?1:0},{zypId:e,num:2,safetyCs:"断开与动火设备相连接的所有管线,加盲板".concat(this.manbanNumber,"块"),affirmRen:this.checked[1]?this.checked[1].img:0,safetyStatus:this.checked[1]?1:0},{zypId:e,num:3,safetyCs:"动火点周围的下水井、地漏、地沟、电缆沟等已清除易燃物,并已采取覆盖、铺沙、水封等手段进行隔离",affirmRen:this.checked[2]?this.checked[2].img:0,safetyStatus:this.checked[2]?1:0},{zypId:e,num:4,safetyCs:"罐区内动火点同一围堰内和防火间距内的油罐不同时进行脱水作业",affirmRen:this.checked[3]?this.checked[3].img:0,safetyStatus:this.checked[3]?1:0},{zypId:e,num:5,safetyCs:"高处作业已采取防火花飞溅措施",affirmRen:this.checked[4]?this.checked[4].img:0,safetyStatus:this.checked[4]?1:0},{zypId:e,num:6,safetyCs:"动火点周围易燃物已清除",affirmRen:this.checked[5]?this.checked[5].img:0,safetyStatus:this.checked[5]?1:0},{zypId:e,num:7,safetyCs:"电焊回路线已接在焊件上,把线未穿过下水井或与其他设备搭接",affirmRen:this.checked[6]?this.checked[6].img:0,safetyStatus:this.checked[6]?1:0},{zypId:e,num:8,safetyCs:"乙炔气瓶(直立放置)、氧气瓶间距大于5米，与火源间的距离大于10米",affirmRen:this.checked[7]?this.checked[7].img:0,safetyStatus:this.checked[7]?1:0},{zypId:e,num:9,safetyCs:"现场配备消防水带".concat(this.fangshuidaiNumber,"根，灭火器").concat(this.miehuoqiNumber,"台，铁锹").concat(this.tieqiuNumber,"把，灭火毯").concat(this.miehuotanNumber,"块"),affirmRen:this.checked[8]?this.checked[8].img:0,safetyStatus:this.checked[8]?1:0}],c=this.checked[0]?this.checked[0].img:0,n=this.checked[1]?this.checked[1].img:1,o=this.checked[2]?this.checked[2].img:2,h=this.checked[3]?this.checked[3].img:3,r=this.checked[4]?this.checked[4].img:4,u=this.checked[5]?this.checked[5].img:5,d=this.checked[6]?this.checked[6].img:6,l=this.checked[7]?this.checked[7].img:6,m={zypId:e,num:[1,2,3,4,5,6,7,8],affirmRen:[c,n,o,h,r,u,d,l],safetyStatus:[this.checked[1]?1:0,this.checked[2]?1:0,this.checked[3]?1:0,this.checked[4]?1:0,this.checked[5]?1:0,this.checked[6]?1:0,this.checked[7]?1:0,this.checked[8]?1:0],safetyCs:["动火设备内部构件清理干净,蒸汽吹扫或水洗合格,达到用火条件。","断开与动火设备相连接的所有管线,加盲板".concat(this.manbanNumber,"块"),"动火点周围的下水井、地漏、地沟、电缆沟等已清除易燃物,并已采取覆盖、铺沙、水封等手段进行隔离","罐区内动火点同一围堰内和防火间距内的油罐不同时进行脱水作业","高处作业已采取防火花飞溅措施","动火点周围易燃物已清除","电焊回路线已接在焊件上,把线未穿过下水井或与其他设备搭接","乙炔气瓶(直立放置)、氧气瓶间距大于5米，与火源间的距离大于10米","现场配备消防水带".concat(this.fangshuidaiNumber,"根，灭火器").concat(this.miehuoqiNumber,"台，铁锹").concat(this.tieqiuNumber,"把，灭火毯").concat(this.miehuotanNumber,"块")]};a.dhzyRen=this.userString(a.dhzyRen,"userName"),a.applyDept=this.$userInfo.officeName,a.applyRen=this.$userInfo.userName,a.__sid=this.$userInfo.sessionId,a.dhStarttime=Date(a.dhStarttime),a.dhEndtime=Date(a.dhEndtime),console.log(1111111),console.log(a),this.$api.page_3.htHseDhzypSave(a).then((function(a){console.log("res: ",a),e=a.message,console.log(s),console.log(JSON.stringify(m)),t.$api.page_3.htHseDhzypSaveHtHseDhzypSafety(JSON.stringify(s),t.$userInfo.sessionId).then((function(e){t.closeAction(),t.$Toast.success({message:"提交成功",onClose:function(){i.clearData(),i.pageBack()}})}))})).catch((function(){}))},pageBack:function(){this.$router.back()},onClickCheckbox:function(e){var t=this;setTimeout((function(){console.log(e),t.checked[e]=!1,console.log(t.checked)}),0)},saveCanvas:function(e){this.signatureShow=!1,this.checked[this.selectSignatureShow]={checked:!1,img:""},this.checked[this.selectSignatureShow].img=e,console.log("signatureShow: ")},onMaterialCancel:function(){this.materialShowShow=!1},cancelCanvas:function(){this.checked[this.selectSignatureShow].checked=!1,this.checked[this.selectSignatureShow].img="",this.signatureShow=!1},testButtonClick:function(){console.log("父组件 = ".concat(this.value))},getManbanNumber:function(e){this.manbanNumber=e},getFangshuidaiNumber:function(e){this.fangshuidaiNumber=e},getMiehuoqiNumber:function(e){this.miehuoqiNumber=e},getTieqiuNumber:function(e){this.tieqiuNumber=e},getMiehuotanNumber:function(e){this.miehuotanNumber=e},testme:function(){console.log({manbanNumber:this.manbanNumber,fangshuidaiNumber:this.fangshuidaiNumber,miehuoqiNumber:this.miehuoqiNumber,tieqiuNumber:this.tieqiuNumber,miehuotanNumber:this.miehuotanNumber})},showSignature:function(e){console.log("index: ",e),console.log("显示签名"),this.selectSignatureShow=e,this.signatureShow=!0},signatureCancel:function(e){console.log("index: ",e),console.log("取消"),this.checked[e].checked=!1,this.checked[e].img=""},getPageData:function(){var e=this;this.$api.page_3.htHseDhzypListData({dhzypCode:this.queryId,__sid:localStorage.getItem("JiaHuaSessionId")}).then((function(t){var i=t.list[0];for(var a in console.log("info: ",i),e.sendData)"dhzyPrincipal"===a?e.sendData[a]=e.reductionSelectUser(i[a]):"dhzyRen"===a?e.sendData[a]=e.reductionSelectUser(i[a]):"dhWay"===a?i[a]&&(e.sendData[a]=e.reductionSelectTag(i[a],e.list_1)):"otherSpecial"===a?i[a]&&(e.sendData[a]=e.reductionSelectTag(i[a],e.list_2)):"hazardSb"===a?i[a]&&(e.sendData[a]=e.reductionSelectTag(i[a],e.list_3)):e.sendData[a]=i[a]}))}}),Object(n["a"])(a,"watch",{dhWay:function(e){this.sendData.dhWay=e},otherSpecial:function(e){this.sendData.otherSpecial=e},hazardSb:function(e){this.sendData.hazardSb=e},dhzyPrincipal:function(e){this.sendData.dhzyPrincipal=e},dhzyRen:function(e){this.sendData.dhzyRen=e},onMaterialConfirm:function(e,t){this.materialShowShow=!1,this.material={index:t,value:e}}}),Object(n["a"])(a,"components",{DonghuoConfirm:r["default"],Canvas:d["a"],StepperPlus:u["a"],Signature:l["a"]}),a),f=m,k=(i("1e77"),i("2877")),v=Object(k["a"])(f,s,c,!1,null,"3c065e2a",null);t["default"]=v.exports},"1e77":function(e,t,i){"use strict";var a=i("450b"),s=i.n(a);s.a},"2fa7":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var a=i("85d3"),s=i.n(a);function c(e,t,i){return t in e?s()(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},"35ee":function(e,t,i){"use strict";var a=i("45a8"),s=i.n(a);s.a},"3e476":function(e,t,i){var a=i("a5eb"),s=i("c1b2"),c=i("4180");a({target:"Object",stat:!0,forced:!s,sham:!s},{defineProperty:c.f})},"450b":function(e,t,i){},"45a8":function(e,t,i){},"65dc":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"operation",on:{click:e.onClickMinus}},[e._v("-")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelValue,expression:"modelValue"}],staticClass:"input",attrs:{disabled:e.modelDisabled},domProps:{value:e.modelValue},on:{input:function(t){t.target.composing||(e.modelValue=t.target.value)}}}),i("div",{staticClass:"operation",on:{click:e.onClickPlus}},[e._v("+")])])},s=[],c=(i("a9e3"),{data:function(){return{modelMin:null,modelMax:null,modelValue:null,modelStep:1,modelDisabled:!0,isError:!1}},props:{min:Number,max:Number,value:Number,step:Number,disabled:Boolean},created:function(){this.errorThrow(),this.initUserSetting()},methods:{onClickPlus:function(){0==this.isError&&(null==this.modelMax||this.modelValue+this.modelStep<=this.modelMax)&&(console.log("+"),this.modelValue+=this.modelStep,this.$emit("getNewValue",this.modelValue))},onClickMinus:function(){0==this.isError&&(null==this.modelMin||this.modelValue-this.modelStep>=this.modelMin)&&(console.log("-"),this.modelValue-=this.modelStep,this.$emit("getNewValue",this.modelValue))},initUserSetting:function(){void 0!=this.value&&(this.modelValue=this.value),void 0!=this.max&&(this.modelMax=this.max),void 0!=this.min&&(this.modelMin=this.min),void 0!=this.step&&(this.modelStep=this.step),void 0!=this.disabled&&(this.modelDisabled=this.disabled)},errorThrow:function(){try{if(this.value<this.min||this.value>this.max)throw this.modelValue="",this.isError=!0,'[Stepper]: The value of the "value" entered is less than the supplied "min" value or greater than the supplied "max" value.';if(null==this.value)throw this.isError=!0,'[Stepper]: The Item of "value" is required and cannot be empty.'}catch(e){console.error(e)}}}}),n=c,o=(i("d962"),i("2877")),h=Object(o["a"])(n,a,s,!1,null,"1280af6f",null);t["a"]=h.exports},"85d3":function(e,t,i){e.exports=i("9a13")},"889c":function(e,t,i){},"9a13":function(e,t,i){e.exports=i("a38c")},a38c:function(e,t,i){i("3e476");var a=i("764b"),s=a.Object,c=e.exports=function(e,t,i){return s.defineProperty(e,t,i)};s.defineProperty.sham&&(c.sham=!0)},b029:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"donghuo_confirm"},[e._m(0),i("div",{staticClass:"confirm_list"},[i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[e._v(" 动火设备内部构件清理干净,蒸汽吹扫或水洗合格,达到用火条件； ")]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160",click:""},model:{value:e.checked[0],callback:function(t){e.$set(e.checked,0,t)},expression:"checked[0]"}})],1),i("div",{staticClass:"confirm_item_signature"},[i("van-image",{attrs:{width:"100%",height:"100%",fit:"scale-down",src:""}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[i("span",[e._v("断开与动火设备相连接的所有管线,加盲板")]),i("span",[i("stepper-plus",{attrs:{value:e.manbanNumber,min:0,disabled:!0},on:{getNewValue:e.getManbanNumber}})],1),i("span",[e._v("块；")])]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[1],callback:function(t){e.$set(e.checked,1,t)},expression:"checked[1]"}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[e._v(" 动火点周围的下水井、地漏、地沟、电缆沟等已清除易燃物,并已采取覆盖、铺沙、水封等手段进行隔离； ")]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[2],callback:function(t){e.$set(e.checked,2,t)},expression:"checked[2]"}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[e._v(" 罐区内动火点同一围堰内和防火间距内的油罐不同时进行脱水作业； ")]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[3],callback:function(t){e.$set(e.checked,3,t)},expression:"checked[3]"}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[e._v("高处作业已采取防火花飞溅措施")]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[4],callback:function(t){e.$set(e.checked,4,t)},expression:"checked[4]"}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[e._v("动火点周围易燃物已清除")]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[5],callback:function(t){e.$set(e.checked,5,t)},expression:"checked[5]"}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[e._v(" 电焊回路线已接在焊件上,把线未穿过下水井或与其他设备搭接； ")]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[6],callback:function(t){e.$set(e.checked,6,t)},expression:"checked[6]"}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[e._v(" 乙炔气瓶(直立放置)、氧气瓶间距大于5米，与火源间的距离大于10米 ")]),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[7],callback:function(t){e.$set(e.checked,7,t)},expression:"checked[7]"}})],1)]),i("div",{staticClass:"confirm_item"},[i("div",{staticClass:"confirm_item_content"},[i("span",[e._v("现场配备消防水带")]),i("stepper-plus",{attrs:{value:e.fangshuidaiNumber,min:0,disabled:!0},on:{getNewValue:e.getFangshuidaiNumber}}),i("span",[e._v("根，灭火器")]),i("stepper-plus",{attrs:{value:e.miehuoqiNumber,min:0,disabled:!0},on:{getNewValue:e.getMiehuoqiNumber}}),i("span",[e._v("台,铁锹")]),i("stepper-plus",{attrs:{value:e.tieqiuNumber,min:0,disabled:!0},on:{getNewValue:e.getTieqiuNumber}}),i("span",[e._v("把,灭火毯")]),i("stepper-plus",{attrs:{value:e.miehuotanNumber,min:0,disabled:!0},on:{getNewValue:e.getMiehuotanNumber}}),i("span",[e._v("块；")])],1),i("div",{staticClass:"checkbox"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},model:{value:e.checked[8],callback:function(t){e.$set(e.checked,8,t)},expression:"checked[8]"}})],1)])]),i("div",{staticClass:"confirm_action"},[i("div",{staticClass:"confirm_actions signature",on:{click:function(t){e.signatureShow=!0}}},[e._v(" 签字 ")]),i("div",{staticClass:"confirm_actions confirm"},[e._v("提交")])]),i("van-popup",{staticClass:"popup",attrs:{position:"bottom"},model:{value:e.signatureShow,callback:function(t){e.signatureShow=t},expression:"signatureShow"}},[i("Canvas",{on:{save:e.saveCanvas,cancel:e.cancelCanvas}})],1)],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"head"},[i("div",{staticClass:"head_1"},[e._v("安全措施")]),i("div",{staticClass:"head_2"},[e._v("确认")]),i("div",{staticClass:"head_3"},[e._v("确认人")])])}],c=i("65dc"),n=i("9ce3"),o={name:"donghuo_confirm",components:{Canvas:n["a"],StepperPlus:c["a"]},data:function(){return{manbanNumber:0,fangshuidaiNumber:0,miehuoqiNumber:0,tieqiuNumber:0,miehuotanNumber:0,signatureShow:!1,checked:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}},created:function(){},methods:{pageBack:function(){this.$router.back()},saveCanvas:function(){this.signatureShow=!1,console.log("signatureShow: ")},cancelCanvas:function(){this.signatureShow=!1},testButtonClick:function(){console.log("父组件 = ".concat(this.value))},getManbanNumber:function(e){this.manbanNumber=e},getFangshuidaiNumber:function(e){this.fangshuidaiNumber=e},getMiehuoqiNumber:function(e){this.miehuoqiNumber=e},getTieqiuNumber:function(e){this.tieqiuNumber=e},getMiehuotanNumber:function(e){this.miehuotanNumber=e},testme:function(){console.log({manbanNumber:this.manbanNumber,fangshuidaiNumber:this.fangshuidaiNumber,miehuoqiNumber:this.miehuoqiNumber,tieqiuNumber:this.tieqiuNumber,miehuotanNumber:this.miehuotanNumber})}}},h=o,r=(i("d4bd"),i("2877")),u=Object(r["a"])(h,a,s,!1,null,"3aedba64",null);t["default"]=u.exports},b0b8:function(e,t,i){},d4bd:function(e,t,i){"use strict";var a=i("b0b8"),s=i.n(a);s.a},d962:function(e,t,i){"use strict";var a=i("889c"),s=i.n(a);s.a},f877:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"confirm_item BGblue"},[i("div",{staticClass:"confirm_item_content"},[e._t("default")],2),i("div",{staticClass:"confirm_item_check success"},[i("van-checkbox",{attrs:{"checked-color":"#07c160"},on:{click:function(t){return e.showSignature(0)}},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),e.img?i("div",{staticClass:"confirm_item_signature"},[i("van-image",{attrs:{width:"100%",height:"100%",fit:"scale-down",src:e.img}})],1):e._e()])},s=[],c={name:"signature",data:function(){return{checked:!1}},props:{img:{type:String,default:""},disable:{type:Boolean,default:!1}},watch:{checked:function(e){this.disable||(e?this.changeChecked(e):this.cancel())}},methods:{showSignature:function(){},changeChecked:function(){this.$emit("checked")},cancel:function(){this.$emit("cancel")}}},n=c,o=(i("35ee"),i("2877")),h=Object(o["a"])(n,a,s,!1,null,"78a3b504",null);t["a"]=h.exports}}]);
//# sourceMappingURL=chunk-60baff1b.62e431c5.js.map