{"version":3,"sources":["webpack:///./src/views/pages/page_3/DiaoZhuang/SelectWorkPermit.vue?c614","webpack:///./src/views/pages/page_3/DiaoZhuang/SelectWorkPermit.vue?c498","webpack:///src/views/pages/page_3/DiaoZhuang/SelectWorkPermit.vue","webpack:///./src/views/pages/page_3/DiaoZhuang/SelectWorkPermit.vue?f375","webpack:///./src/views/pages/page_3/DiaoZhuang/SelectWorkPermit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","pageBack","finished","getUserData","model","value","callback","$$v","loading","expression","result","_l","item","index","key","id","$event","toggle","slot","_v","_s","name","ref","refInFor","staticRenderFns","data","pageSetting","count","pageNo","pageSize","searchValue","list","created","storeModule","$route","query","storeKey","results","$store","state","methods","onSearch","onCancel","console","log","onLoad","setTimeout","$refs","checkboxes","check","clickChech","$nextTick","__sid","$userInfo","sessionId","$api","page_3","dispatch","$router","back","component"],"mappings":"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","file":"js/chunk-2cde0da4.b719081f.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectWorkPermit.vue?vue&type=style&index=0&id=7d60aba6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectWorkPermit.vue?vue&type=style&index=0&id=7d60aba6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"select-user\"},[_c('van-sticky',[_c('van-nav-bar',{attrs:{\"title\":\"人员选择\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.pageBack}})],1),_c('div',{staticClass:\"list\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getUserData},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('van-radio-group',{model:{value:(_vm.result),callback:function ($$v) {_vm.result=$$v},expression:\"result\"}},[_c('van-cell-group',_vm._l((_vm.list),function(item,index){return _c('van-cell',{key:item.id,attrs:{\"clickable\":\"\"},on:{\"click\":function($event){return _vm.toggle(index)}}},[_c('template',{slot:\"title\"},[_c('div',{staticClass:\"cell-title\"},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])])]),_c('van-radio',{ref:\"checkboxes\",refInFor:true,attrs:{\"slot\":\"icon\",\"name\":item},slot:\"icon\"})],2)}),1)],1)],1)],1),_c('div',{staticClass:\"action\",on:{\"click\":_vm.pageBack}},[_vm._v(\"确定\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"select-user\">\n    <van-sticky>\n      <van-nav-bar\n        title=\"人员选择\"\n        left-text=\"返回\"\n        left-arrow\n        @click-left=\"pageBack\"\n      />\n    </van-sticky>\n    <div class=\"list\">\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"getUserData\"\n      >\n        <van-radio-group v-model=\"result\">\n          <van-cell-group>\n            <van-cell\n              v-for=\"(item, index) in list\"\n              clickable\n              :key=\"item.id\"\n              @click=\"toggle(index)\"\n            >\n              <template slot=\"title\">\n                <div class=\"cell-title\">\n                  <div class=\"info\">\n                    <div class=\"name\">{{ item.name }}</div>\n                  </div>\n                </div>\n              </template>\n              <van-radio :name=\"item\" ref=\"checkboxes\" slot=\"icon\" />\n            </van-cell>\n          </van-cell-group>\n        </van-radio-group>\n      </van-list>\n    </div>\n    <div class=\"action\" @click=\"pageBack\">确定</div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"selectUser\",\n  data() {\n    return {\n      pageSetting: {\n        count: 10, //数据总条数\n        pageNo: 1, // 页码\n        pageSize: 20 // 每页条数\n      },\n      searchValue: \"\", //搜索内容\n      list: [],\n      loading: false,\n      finished: false,\n      result: {}\n    };\n  },\n  created() {\n    this.storeModule = this.$route.query.storeModule;\n    this.storeKey = this.$route.query.storeKey;\n    this.results = this.$store.state[this.storeModule][this.storeKey];\n  },\n  methods: {\n    // 搜索\n    onSearch() {\n      this.list = \"\";\n      this.getUserData();\n    },\n    // 取消搜索\n    onCancel() {\n      this.searchValue = \"\";\n      this.list = \"\";\n      this.getUserData();\n      console.log(123);\n    },\n    onLoad() {\n      // 异步更新数据\n      setTimeout(() => {\n        for (let i = 0; i < 10; i++) {\n          this.list.push(this.list.length + 1);\n        }\n        // 加载状态结束\n        this.loading = false;\n        // 数据全部加载完成\n        if (this.list.length >= 40) {\n          this.finished = true;\n        }\n      }, 500);\n      this.getUserData();\n    },\n    toggle(index) {\n      this.$refs.checkboxes[index].toggle();\n    },\n    check() {\n      console.log(this.results);\n      //   this.result = JSON.parse(JSON.stringify(this.results));\n      //   this.list.forEach((element, index) => {\n      //     this.result.forEach(elements => {\n      //       if (element.userCode === elements.userCode) {\n      //         this.clickChech(index);\n      //         console.log(\"elements.userCode: \", elements.userCode);\n      //         console.log(\"index: \", index);\n      //         // this.$refs.checkboxes[index].toggle();\n      //         // this.$refs.checkboxes[index].toggle();\n      //       }\n      //     });\n      //   });\n    },\n    clickChech() {\n      this.$nextTick(index => {\n        console.log(\n          \"this.$refs.checkboxes[index]: \",\n          this.$refs.checkboxes.checked\n        );\n        this.$refs.checkboxes[index].checked = true;\n      });\n    },\n    // 获取用户列表\n    getUserData() {\n      let sendData = {\n        __sid: this.$userInfo.sessionId\n      };\n      this.$api.page_3\n        .htCbsPersonInf(sendData)\n        .then(res => {\n          console.log(\"res: \", res);\n          if (res.length === 0) {\n            this.finished = true;\n            this.loading = false;\n          }\n          // 加载状态结束\n          this.loading = false;\n          this.list = res;\n          this.check();\n        })\n        .catch(() => {});\n    },\n    pageBack() {\n      let obj = {\n        key: this.storeKey,\n        value: this.result\n      };\n      this.$store.dispatch(`${this.storeModule}/changTag`, obj);\n      this.$router.back();\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.select-user {\n  padding-bottom: 100px;\n  .list {\n    .cell-title {\n      display: flex;\n      align-items: center;\n      .header {\n        width: 90px;\n        height: 90px;\n        border-radius: 50%;\n        overflow: hidden;\n        margin: 0 20px;\n        img {\n          width: 90px;\n          height: 90px;\n        }\n      }\n      .info {\n        width: 500px;\n        overflow: hidden;\n        .name {\n          margin-left: 10px;\n          font-size: 28px;\n          color: rgba(51, 51, 51, 1);\n        }\n        .department {\n          font-size: 28px;\n          color: rgba(153, 153, 153, 1);\n        }\n      }\n    }\n  }\n  .action {\n    width: 100vw;\n    height: 98px;\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(96, 150, 248, 1);\n    box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.5);\n    font-size: 32px;\n    color: rgba(255, 255, 255, 1);\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectWorkPermit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectWorkPermit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectWorkPermit.vue?vue&type=template&id=7d60aba6&scoped=true&\"\nimport script from \"./SelectWorkPermit.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectWorkPermit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectWorkPermit.vue?vue&type=style&index=0&id=7d60aba6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d60aba6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}